{"ast":null,"code":"var _jsxFileName = \"/home/kosei/curriculum_2_kosei-matsuzaki/react-to-go/my-app-ts/src/components/UserInput.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserInput = _ref => {\n  _s();\n\n  let {\n    users,\n    setUsers,\n    fetchUsers\n  } = _ref;\n  const [inputName, setInputName] = useState(\"\");\n  const [inputAge, setInputAge] = useState(0);\n\n  const handleInputChangeName = e => {\n    setInputName(e.target.value);\n  };\n\n  const handleInputChangeAge = e => {\n    setInputAge(Number(e.target.value));\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n\n    if (!inputName) {\n      alert(\"Please enter name\");\n      return;\n    }\n\n    if (inputName.length > 50) {\n      alert(\"Please enter a name shorter than 50 characters\");\n      return;\n    }\n\n    if (inputAge < 20 || inputAge > 80) {\n      alert(\"Please enter age between 20 and 80\");\n      return;\n    }\n\n    try {\n      const result = await fetch(\"http://localhost:8000/users\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          name: inputName,\n          age: inputAge\n        })\n      });\n\n      if (!result.ok) {\n        throw Error(`Failed to create user: ${result.status}`);\n      }\n\n      setInputName(\"\");\n      setInputAge(0);\n      fetchUsers();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-form\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter User's Name\",\n        type: \"text\",\n        className: \"input\",\n        value: inputName,\n        onChange: handleInputChangeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter User's Age\",\n        type: \"number\",\n        className: \"input\",\n        value: inputAge,\n        onChange: handleInputChangeAge\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          onSubmit;\n        },\n        className: \"btn is-primary\",\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserInput, \"OFNfQ6vywmJZpj7UHkalxqCC7Wc=\");\n\n_c = UserInput;\nexport default UserInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInput\");","map":{"version":3,"names":["React","useState","UserInput","users","setUsers","fetchUsers","inputName","setInputName","inputAge","setInputAge","handleInputChangeName","e","target","value","handleInputChangeAge","Number","onSubmit","preventDefault","alert","length","result","fetch","method","body","JSON","stringify","name","age","ok","Error","status","err","console","error"],"sources":["/home/kosei/curriculum_2_kosei-matsuzaki/react-to-go/my-app-ts/src/components/UserInput.tsx"],"sourcesContent":["import { count } from 'console';\r\nimport React, {useState} from 'react';\r\nimport {User} from \"../Types\"\r\n\r\ntype Props = {\r\n    users : User[]\r\n    setUsers : React.Dispatch<React.SetStateAction<User[]>>\r\n    fetchUsers : () => Promise<void>\r\n}\r\n\r\nconst UserInput: React.FC<Props> = ({users, setUsers, fetchUsers}) => {\r\n\r\n  const [inputName, setInputName] = useState(\"\")\r\n  const [inputAge, setInputAge] = useState(0)\r\n\r\n  const handleInputChangeName = (e:React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputName(e.target.value)\r\n  }\r\n  const handleInputChangeAge = (e:React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputAge(Number(e.target.value))\r\n  }\r\n\r\n  \r\n  const onSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (!inputName) {\r\n      alert(\"Please enter name\");\r\n      return;\r\n    }\r\n\r\n    if (inputName.length > 50) {\r\n      alert(\"Please enter a name shorter than 50 characters\");\r\n      return;\r\n    }\r\n\r\n    if (inputAge < 20 || inputAge > 80) {\r\n      alert(\"Please enter age between 20 and 80\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const result = await fetch(\"http://localhost:8000/users\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          name: inputName,\r\n          age: inputAge,\r\n        }),\r\n      });\r\n      if (!result.ok) {\r\n        throw Error(`Failed to create user: ${result.status}`);\r\n      }\r\n\r\n      setInputName(\"\");\r\n      setInputAge(0);\r\n      fetchUsers();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className = \"input-form\">\r\n      <div className = \"inner\">\r\n        <input \r\n          placeholder=\"Enter User's Name\"\r\n          type = \"text\"\r\n          className =\"input\"\r\n          value = {inputName}\r\n          onChange={handleInputChangeName}\r\n        />\r\n        <input \r\n          placeholder=\"Enter User's Age\"\r\n          type = \"number\"\r\n          className =\"input\"\r\n          value = {inputAge}\r\n          onChange={handleInputChangeAge}\r\n        />\r\n        <button \r\n           onClick = {(e) => {onSubmit}}\r\n           className = \"btn is-primary\">submit</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserInput;\r\n"],"mappings":";;;AACA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;;AASA,MAAMC,SAA0B,GAAG,QAAmC;EAAA;;EAAA,IAAlC;IAACC,KAAD;IAAQC,QAAR;IAAkBC;EAAlB,CAAkC;EAEpE,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,CAAD,CAAxC;;EAEA,MAAMS,qBAAqB,GAAIC,CAAD,IAA2C;IACvEJ,YAAY,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;EACD,CAFD;;EAGA,MAAMC,oBAAoB,GAAIH,CAAD,IAA2C;IACtEF,WAAW,CAACM,MAAM,CAACJ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CAAX;EACD,CAFD;;EAKA,MAAMG,QAAQ,GAAG,MAAOL,CAAP,IAA+C;IAC9DA,CAAC,CAACM,cAAF;;IAEA,IAAI,CAACX,SAAL,EAAgB;MACdY,KAAK,CAAC,mBAAD,CAAL;MACA;IACD;;IAED,IAAIZ,SAAS,CAACa,MAAV,GAAmB,EAAvB,EAA2B;MACzBD,KAAK,CAAC,gDAAD,CAAL;MACA;IACD;;IAED,IAAIV,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,EAAhC,EAAoC;MAClCU,KAAK,CAAC,oCAAD,CAAL;MACA;IACD;;IAED,IAAI;MACF,MAAME,MAAM,GAAG,MAAMC,KAAK,CAAC,6BAAD,EAAgC;QACxDC,MAAM,EAAE,MADgD;QAExDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UACnBC,IAAI,EAAEpB,SADa;UAEnBqB,GAAG,EAAEnB;QAFc,CAAf;MAFkD,CAAhC,CAA1B;;MAOA,IAAI,CAACY,MAAM,CAACQ,EAAZ,EAAgB;QACd,MAAMC,KAAK,CAAE,0BAAyBT,MAAM,CAACU,MAAO,EAAzC,CAAX;MACD;;MAEDvB,YAAY,CAAC,EAAD,CAAZ;MACAE,WAAW,CAAC,CAAD,CAAX;MACAJ,UAAU;IACX,CAfD,CAeE,OAAO0B,GAAP,EAAY;MACZC,OAAO,CAACC,KAAR,CAAcF,GAAd;IACD;EACF,CApCD;;EAsCA,oBACE;IAAK,SAAS,EAAG,YAAjB;IAAA,uBACE;MAAK,SAAS,EAAG,OAAjB;MAAA,wBACE;QACE,WAAW,EAAC,mBADd;QAEE,IAAI,EAAG,MAFT;QAGE,SAAS,EAAE,OAHb;QAIE,KAAK,EAAIzB,SAJX;QAKE,QAAQ,EAAEI;MALZ;QAAA;QAAA;QAAA;MAAA,QADF,eAQE;QACE,WAAW,EAAC,kBADd;QAEE,IAAI,EAAG,QAFT;QAGE,SAAS,EAAE,OAHb;QAIE,KAAK,EAAIF,QAJX;QAKE,QAAQ,EAAEM;MALZ;QAAA;QAAA;QAAA;MAAA,QARF,eAeE;QACG,OAAO,EAAKH,CAAD,IAAO;UAACK,QAAQ;QAAC,CAD/B;QAEG,SAAS,EAAG,gBAFf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAfF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAuBD,CA1ED;;GAAMd,S;;KAAAA,S;AA4EN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}